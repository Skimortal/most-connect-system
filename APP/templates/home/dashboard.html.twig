{% extends 'base_logged_in.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block logged_in_content %}
    <div class="main-content bgc-grey-100">
        <div class="mainContent">
            <div class="row gap-20 pos-r">
                <div class="col-md-6">
                    <div class="bgc-white p-20 bd">
                        <h1 class="c-grey-900">{{ 'invoices_dashboard'|trans }}</h1>
                        <div class="mT-30">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="peers ai-c jc-sb fxw-nw bdB pY-15">
                                        <div class="peer">
                                            <a href="{{ path('invoice_list', {'invoice_filter': {'status': constant('App\\Enum\\InvoiceStatus::OFFEN').value}}) }}">
                                                <span>{{ 'invoices_open'|trans }}</span>
                                            </a>
                                        </div>
                                        <div class="peer">
                                            <a href="{{ path('invoice_list', {'invoice_filter': {'status': constant('App\\Enum\\InvoiceStatus::OFFEN').value}}) }}">
                                                {{ invoicesOpen }}
                                            </a>
                                        </div>
                                    </div>
                                    <div class="peers ai-c jc-sb fxw-nw bdB pY-15">
                                        <div class="peer">
                                            <a href="{{ path('invoice_list', {'invoice_filter': {'status': constant('App\\Enum\\InvoiceStatus::VERSENDET').value}}) }}">
                                                <span>{{ 'invoices_sent'|trans }}</span>
                                            </a>
                                        </div>
                                        <div class="peer">
                                            <a href="{{ path('invoice_list', {'invoice_filter': {'status': constant('App\\Enum\\InvoiceStatus::VERSENDET').value}}) }}">
                                                {{ invoicesSent }}
                                            </a>
                                        </div>
                                    </div>
                                    <div class="peers ai-c jc-sb fxw-nw bdB pY-15">
                                        <div class="peer">
                                            <a href="{{ path('invoice_list', {'invoice_filter': {'status': constant('App\\Enum\\InvoiceStatus::BEZAHLT').value}}) }}">
                                                <span>{{ 'invoices_payed'|trans }}</span>
                                            </a>
                                        </div>
                                        <div class="peer">
                                            <a href="{{ path('invoice_list', {'invoice_filter': {'status': constant('App\\Enum\\InvoiceStatus::BEZAHLT').value}}) }}">
                                                {{ invoicesPayed }}
                                            </a>
                                        </div>
                                    </div>

                                    <h4 class="mt-5">Übersicht Summen</h4>
                                    <div class="peers ai-c jc-sb fxw-nw bdB pY-15">
                                        <div class="peer">
                                            <span>{{ 'invoices_open_sum'|trans }}</span>
                                        </div>
                                        <div class="peer">
                                            {{ invoicesOpenSum|number_format(2, ',', '.') }} €
                                        </div>
                                    </div>
                                    <div class="peers ai-c jc-sb fxw-nw bdB pY-15">
                                        <div class="peer">
                                            <span>{{ 'invoices_sent_sum'|trans }}</span>
                                        </div>
                                        <div class="peer">
                                            {{ invoicesSentSum|number_format(2, ',', '.') }} €
                                        </div>
                                    </div>
                                    <div class="peers ai-c jc-sb fxw-nw bdB pY-15">
                                        <div class="peer">
                                            <span>{{ 'invoices_payed_sum'|trans }}</span>
                                        </div>
                                        <div class="peer">
                                            {{ invoicesPayedSum|number_format(2, ',', '.') }} €
                                        </div>
                                    </div>

                                    <div class="mt-5">
                                        <a href="{{ path("invoice_list") }}" class="btn btn-success">{{ 'goToInvoices'|trans }}</a>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="bgc-white p-20 bd">
                                        <div class="mT-30">
                                            <canvas id="doughnut-chart"
                                                    data-invoices-open="{{ invoicesOpen }}"
                                                    data-invoices-open-label="{{ 'invoices_open'|trans }}"
                                                    data-invoices-sent="{{ invoicesSent }}"
                                                    data-invoices-sent-label="{{ 'invoices_sent'|trans }}"
                                                    data-invoices-payed="{{ invoicesPayed }}"
                                                    data-invoices-payed-label="{{ 'invoices_payed'|trans }}">
                                            </canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="layers bd bgc-white p-20">
                        <div class="layer w-100 mB-10">
                            <h1>Willkommen, {{ user }},</h1>
                        </div>
                        <div class="layer w-100">
                            <p>
                                bei inEasy.at – der einfachen Art, Ihr Tagesgeschäft übersichtlich zu steuern.
                            </p>
                            <p>
                                Mit wenigen Klicks behalten Sie den Überblick und erledigen Routineaufgaben schneller und zuverlässiger.
                            </p>

                            <h2>Was inEasy.at für Sie übernimmt:</h2>
                            <ul>
                                <li>Firmendaten verwalten: Stammdaten zentral pflegen – von Adresse und Steuernummer bis Logo und Bankverbindung.</li>
                                <li>Kunden verwalten: Kontakte anlegen, bearbeiten und organisieren – damit Sie alle Infos zu Ihren Kunden sofort parat haben.</li>
                                <li>Rechnungen verwalten: Rechnungen erstellen, drucken und nachvollziehen – inklusive Statusübersicht für offene und erledigte Vorgänge.</li>
                            </ul>

                            <p class="mt-3">
                                Los geht’s: Wählen Sie einfach den gewünschten Bereich im Menü – inEasy.at führt Sie Schritt für Schritt durch alle Aufgaben.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
